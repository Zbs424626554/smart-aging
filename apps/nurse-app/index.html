<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vite + React + TS</title>
</head>

<body>
  <div id="root"></div>
  <script type="module" src="/src/main.tsx"></script>
  <!-- 百度地图 WebGL 版本，支持 BMapGL -->
  <script src="https://api.map.baidu.com/api?v=1.0&type=webgl&ak=uVqZ5HJnmnA95xhBUo4fCUl2M4Pji7Ky"></script>

  <!-- 备用方案：如果主域名失败，尝试国内镜像 -->
  <script>
    // 检测百度地图是否加载成功
    window.addEventListener('load', function () {
      setTimeout(function () {
        if (typeof BMapGL === 'undefined') {
          console.log('百度地图主域名加载失败，尝试使用国内镜像...');
          const script = document.createElement('script');
          script.src = 'https://mapapi.bdimg.com/api?v=1.0&type=webgl&ak=uVqZ5HJnmnA95xhBUo4fCUl2M4Pji7Ky';
          script.onload = function () {
            console.log('百度地图国内镜像加载成功');
          };
          script.onerror = function () {
            console.error('百度地图国内镜像也加载失败');
          };
          document.head.appendChild(script);
        }
      }, 3000); // 等待3秒后检查
    });
  </script>
</body>

</html>